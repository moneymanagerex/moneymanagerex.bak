<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en"><head>






  
  <meta content="text/html; charset=UTF-8" http-equiv="content-type"><title>UnQLite C/C++ API Reference - Call Context Memory Management Interfaces</title><!-- Copyright (C) 2013 Mrad Chems Eddine, Symisc Systems,http://www.symisc.net contact@symisc.net -->
  

  

  
  <link rel="stylesheet" href="symisc.css" type="text/css">

  
  <meta content="Symisc Systems &lt;chm@symisc.net&gt;" name="author">

  
  <meta content="http://unqlite.org/" name="description"></head><body>
<div style="width: 1092px;" id="main_div"><a href="http://unqlite.org/"><img style="border: 0px solid ; width: 170px; height: 70px;" alt="Symisc UnQLite" title="Symisc UnQLite" src="../images/symisc-unqlite.png"></a><br>
<div style="text-align: left; width: 1080px;" align="right">
<table style="text-align: left; width: 1075px; height: 41px;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top; width: 709px; height: 45px;"><small style="color: black; font-family: Verdana;"><small><br>
An Embeddable NoSQL Database Engine<br>
      </small></small></td>
      <td style="vertical-align: top; width: 162px; height: 45px;"><br>
      <a href="https://twitter.com/share" class="twitter-share-button" data-via="unqlite_db" data-size="large">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></td>
      <td style="vertical-align: top; width: 176px; height: 45px;"><br>
      <a href="https://twitter.com/unqlite_db" class="twitter-follow-button" data-show-count="false" data-size="large">Follow
@unqlite_db</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></td>
    </tr>
  </tbody>
</table>
</div>
<hr style="width: 100%; height: 2px;">
<ul id="nav">
  <li id="nav-1"><a href="../index.html">About</a></li>
  <li id="nav-8"><a href="../features.html">Distinctive Features<br>
    </a></li>
  <li id="nav-2"><a href="../intro.html">Getting Started<br>
    </a></li>
  <li id="nav-3"><a href="../c_api.html">Documentation<br>
    </a></li>
  <li id="nav-4"><a href="../downloads.html">Downloads<br>
    </a></li>
  <li id="nav-5"><a href="../licensing.html">License<br>
    </a></li>
  <li id="nav-6"><a href="../faq.html">FAQ<br>
    </a></li>
  <li id="nav-7"><a href="../support.html">Online Support<br>
    </a></li>
</ul>
<h1 style="font-family: Verdana;"><font style="font-size: 10pt;" size="2">UnQLite</font><small><small><b> C/C++ API Reference - </b></small></small><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>Call
Context Memory Management Interfaces.</b></font></font></h1>

<div><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>Syntax</b></font></font><br>
<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Verdana;"><font color="#000000"><font style="font-size: 10pt;" size="2"><font color="#0000ff"><br>
</font></font></font></p>
<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><font color="#000000"><font style="font-size: 10pt;" size="2"><font color="#0000ff">void</font><font color="#000000">
* <span style="font-weight: bold;">unqlite_context_alloc_chunk</span>(</font><font color="#0000ff">unqlite_context</font><font color="#000000">
*pCtx,</font><font color="#0000ff">unsigned</font><font color="#000000">
</font><font color="#0000ff">int</font><font color="#000000"> nByte,</font></font></font><font style="font-size: 10pt;" size="2"><font color="#0000ff">int</font><font color="#000000">
ZeroChunk,</font><font color="#0000ff">int</font><font color="#000000">
AutoRelease);</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><font color="#000000"><font style="font-size: 10pt;" size="2"><font color="#0000ff">void</font><font color="#000000">
* <span style="font-weight: bold;">unqlite_context_realloc_chunk</span>(</font><font color="#0000ff">unqlite_context</font><font color="#000000">
*pCtx,</font><font color="#0000ff">void</font><font color="#000000">
*pChunk,</font></font></font><font style="font-size: 10pt;" size="2"><font color="#0000ff">unsigned</font><font color="#000000">
</font><font color="#0000ff">int</font><font color="#000000"> nByte);</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><font style="font-size: 10pt;" size="2"><font color="#0000ff">void</font><font color="#000000"> <span style="font-weight: bold;">unqlite_context_free_chunk</span>(</font><font color="#0000ff">unqlite_context</font><font color="#000000">
*pCtx,</font><font color="#0000ff">void</font><font color="#000000">
*pChunk);</font></font></p>
<br>




<p style="margin-left: 1.25cm; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">Memory
Allocation Routines </font></font>
</p>



<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>Description</b></font></font></p>

<br>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">As
their names suggests these interfaces allocate, re-allocate and free
memory using the UnQLite memory backend subsystem. <font face="Verdana, sans-serif"><span style="font-weight: normal;">These
interfaces accepts as their first </span></font></font></font><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-weight: normal;">parameter</span></font></font><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;"> a pointer to a </span></font><a style="font-family: Courier New;" href="../c_api_object.html#unqlite_context"><span style="font-weight: normal;">unqlite_context</span></a><font face="Verdana, sans-serif"><span style="font-weight: normal;">
which mean that they are designed to be invoked only from a </span></font><a href="unqlite_create_function.html"><font face="Verdana, sans-serif"><span style="font-weight: normal;">foreign
function</span></font></a><font face="Verdana, sans-serif"><span style="font-weight: normal;">.</span></font></font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-weight: normal;"><br>
</span></font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-weight: normal;">The </span><font style="font-family: Courier New;" color="#000000"><b>unqlite_context_alloc_chunk</b></font><b style="font-family: Courier New;">()</b><span style="font-weight: normal;">
routine returns a pointer to a block of memory at least </span><b>nByte</b><span style="font-weight: normal;">
bytes in length, where </span><b>nByte</b><span style="font-weight: normal;">
is the second parameter.&nbsp;</span><span style="font-weight: normal;">
</span></font></font>
</p>


<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-weight: normal;">The last parameter </span><font style="font-family: Courier New;" color="#000000"><b>unqlite_context_alloc_chunk</b></font><b style="font-family: Courier New;">()</b><span style="font-weight: normal;">
takes is a Boolean flag when set to TRUE (any value different
from zero), then the allocated chunk is automatically released upon the
foreign function have finished its execution. That is, there is no
need to manually call </span><font style="font-family: Courier New;" color="#000000"><b>unqlite_context_free_chunk()</b></font><font color="#000000"><span style="font-weight: normal;">.<br>
</span></font></font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font color="#000000"><span style="font-weight: normal;"><br>
</span></font></font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font color="#000000"><span style="font-weight: normal;">The </span></font><font style="font-family: Courier New;" color="#000000"><b>unqlite_context_realloc_chunk()</b></font><font color="#000000"><span style="font-weight: normal;">
interface attempts to resize a prior memory </span></font><font color="#000000"><span style="font-weight: normal;">allocation
to be at least </span></font><font color="#000000"><b>nByte</b></font><font color="#000000"><span style="font-weight: normal;">
bytes, where </span></font><font color="#000000"><b>nByte</b></font><font color="#000000"><span style="font-weight: normal;">
is the third parameter. The memory allocation to be resized is the
second parameter. If the second parameter </span></font><font color="#000000"><span style="font-weight: normal;">to </span></font><font color="#000000"><b><span style="font-family: Courier New;">unqlite_context_realloc_chunk()</span> </b></font><font color="#000000"><span style="font-weight: normal;">is
a NULL pointer then its behavior is identical </span></font><font color="#000000"><span style="font-weight: normal;">to
calling </span></font><font style="font-family: Courier New;" color="#000000"><b>unqlite_context_alloc_chunk(nByte)</b></font><font color="#000000"><span style="font-weight: normal;">
where </span></font><font color="#000000"><b>nByte </b></font><font color="#000000"><span style="font-weight: normal;">is
the third parameter to </span></font><font style="font-family: Courier New;" color="#000000"><b>unqlite_context_realloc_chunk()</b></font><font color="#000000"><span style="font-weight: normal;">.
</span></font></font></font></p>


<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font color="#000000"><span style="font-weight: normal;"><br>
</span></font></font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font color="#000000"><span style="font-weight: normal;">Calling </span></font><font style="font-family: Courier New;" color="#000000"><b>unqlite_context_free_chunk()</b></font><font color="#000000"><span style="font-weight: normal;">
with a pointer previously returned by </span></font><font style="font-family: Courier New;" color="#000000"><b>unqlite_context_alloc_chunk()</b></font><font color="#000000"><span style="font-weight: normal;">
or </span></font><font style="font-family: Courier New;" color="#000000"><b>unqlite_context_realloc_chunk()</b></font><font color="#000000"><span style="font-weight: normal;">
releases that </span></font><font color="#000000"><span style="font-weight: normal;">memory
so that it might be reused. </span></font><font color="#000000"><span style="font-weight: normal;">Passing a NULL pointer to </span></font><font style="font-family: Courier New;" color="#000000"><b>unqlite_context_free_chunk()</b></font><font color="#000000"><span style="font-weight: normal;">
is harmless. Note that after being freed, memory should neither be
read nor written otherwise the result is undefined</span></font></font></font></p>
<p style="margin-left: 1.25cm; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font color="#000000"><font face="Verdana, sans-serif"><br>
</font></font></font></font></p>

<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>Parameters</b></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>

<table style="width: 100%;" id="table_code" border="1" bordercolor="#000000" cellpadding="2" cellspacing="0">

  <colgroup><col width="73*"> <col width="183*"> </colgroup><tbody>
    <tr valign="top">
      <td width="28%">
      <p style="margin-left: 1.25cm;"><font color="#000000"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>pCtx</b></font></font></font></p>
      </td>
      <td width="72%">
      
      <p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">Foreign function Call Context.</font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"></font></font></p>
      </td>
    </tr>
  </tbody>
</table>

<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>Return
value</b></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>

<p style="margin-left: 1.25cm; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">A
pointer to a freshly allocated/re-allocated chunk<b> </b> is returned
on success. NULL is returned on failure (Out-of-memory).</font></font></p>
<p style="margin-left: 1.25cm; font-weight: normal;">
</p>
<p style="margin-left: 1.25cm; font-weight: normal;">
</p>
<p style="margin-left: 1.25cm; font-weight: normal;">
</p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;"><br>
</span></font></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>See also<br>
</b></font></font></p>

<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>


<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><a href="http://unqlite.org/db/unqlite_func_intro.c"><font face="Verdana, sans-serif"><span style="font-weight: normal;"></span></font></a><font face="Verdana, sans-serif"><span style="font-weight: normal;"><a href="unqlite_create_function.html">Installing Foreign Functions</a></span></font></font></font><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;"></span></font></font></font><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;"></span></font></font></font><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;"></span></font></font></font><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;">.<br>
</span></font></font></font></p>
<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;"><br>
</span></font></font></font></p>


</div>
<hr style="width: 100%; height: 2px;">
<div style="text-align: right; margin-top: 0px; height: 91px;"><small><small><a href="http://www.symisc.net/"><img style="border: 0px solid ; width: 170px; height: 70px;" alt="Symisc Systems" src="../images/symisc.png"></a></small></small>
<div style="text-align: left; margin-top: 0px; height: 14px;"><small><small style="font-family: Verdana;">Copyright © <a href="http://www.symisc.net/">Symisc Systems</a></small></small><br>
</div>
</div>
</div>

</body></html>